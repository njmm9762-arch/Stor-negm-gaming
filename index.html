<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ° Ù…Ø§ÙƒÙŠÙ†Ø© Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<style>
body{
  margin:0;
  padding:0;
  font-family:sans-serif;
  background:#0a0a0a;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  height:100vh;
  overflow:hidden;
  text-align:center;
}
h1{
  margin:10px 0;
  font-size:22px;
  color:#22c55e;
  text-shadow:0 0 15px #22c55e;
}
.sub{
  color:#a3e635;
  font-size:14px;
  margin-bottom:10px;
}
input{
  padding:12px;
  width:250px;
  font-size:16px;
  text-align:center;
  border:none;
  border-radius:12px;
  margin:8px 0;
}
.machine{
  display:flex;
  justify-content:center;
  gap:10px;
  margin:20px 0;
  height:120px;
  overflow:hidden;
}
.slot{
  width:70px;
  height:100%;
  background:#111;
  border-radius:12px;
  box-shadow:0 0 20px #22c55e;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  font-size:24px;
  font-weight:bold;
  color:#22c55e;
  overflow:hidden;
  position:relative;
}
.slot div{
  position:absolute;
  bottom:0;
  width:100%;
  text-align:center;
}
button{
  padding:14px 40px;
  font-size:18px;
  border:none;
  border-radius:20px;
  background:linear-gradient(45deg,#22c55e,#4ade80);
  color:#000;
  cursor:pointer;
  margin-top:8px;
  box-shadow:0 0 20px #22c55e;
}
#result{
  margin-top:15px;
  font-size:16px;
  line-height:1.4;
}
.confetti{
  position:absolute;
  font-size:24px;
  top:-30px;
  animation:fall linear forwards;
}
@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); }
}
a{ color:#22c55e; text-decoration:none; font-weight:bold;}
</style>
</head>
<body>

<h1>ğŸ° Ù…Ø§ÙƒÙŠÙ†Ø© Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ</h1>
<div class="sub">Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù„Ø¹Ø¨ Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨</div>

<input id="playerId" type="number" placeholder="Ø§Ø¯Ø®Ù„ ID Ø¨Ø¨Ø¬ÙŠ">

<div class="machine">
  <div id="s1" class="slot"><div>â“</div></div>
  <div id="s2" class="slot"><div>â“</div></div>
  <div id="s3" class="slot"><div>â“</div></div>
</div>

<button onclick="spin()">Ù„Ù Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©</button>

<p id="result"></p>

<!-- Ø§Ù„Ø£ØµÙˆØ§Øª -->
<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1930.mp3"></audio>
<audio id="clapSound" src="https://assets.mixkit.co/sfx/preview/mixkit-audience-clapping-strongly-476.mp3"></audio>
<audio id="laughSound" src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-laugh-voice-633.mp3"></audio>

<script>
const prizes=["2000","6600","12200","14500"];
const s1=document.querySelector("#s1 div");
const s2=document.querySelector("#s2 div");
const s3=document.querySelector("#s3 div");

window.onload=()=>{
  let msg=new SpeechSynthesisUtterance(
    "Ø§Ù‡Ù„Ø§ Ø¨Ùƒ ÙÙŠ Ù…Ø§ÙƒÙŠÙ†Ø© Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ. Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø¥Ø¬Ø¨Ø§Ø±ÙŠ Ù„Ù„ÙÙˆØ². Ø§Ø¯Ø®Ù„ Ø§Ù„Ø§ÙŠ Ø¯ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ."
  );
  msg.lang="ar-EG";
  speechSynthesis.speak(msg);
};

function spin(){
  const id=document.getElementById("playerId").value.trim();
  if(id.length<6){
    result.innerText="âŒ Ù„Ø§Ø²Ù… ØªØ¯Ø®Ù„ ID ØµØ­ÙŠØ­";
    return;
  }

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ
  const subscribed=confirm("âš ï¸ ÙŠØ¬Ø¨ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ ÙÙŠ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨. Ù‡Ù„ Ù‚Ù…Øª Ø¨Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØŸ");
  if(!subscribed){
    result.innerText="âŒ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ Ø§Ø¬Ø¨Ø§Ø±ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ù„Ø¹Ø¨";
    return;
  }

  const today=new Date().toDateString();
  const key="spin_"+id;
  if(localStorage.getItem(key)===today){
    result.innerText="âŒ Ù„Ø¹Ø¨Øª Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ Ø®Ù„Ø§Øµ";
    return;
  }
  localStorage.setItem(key,today);

  navigator.vibrate && navigator.vibrate([200,100,200,100,300]);
  spinSound.play();

  s1.style.bottom="-100%";
  s2.style.bottom="-100%";
  s3.style.bottom="-100%";

  // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø£Ø³ÙÙ„ Ù„Ø£Ø¹Ù„Ù‰
  let stop=false;
  let count=0;
  const interval=setInterval(()=>{
    s1.innerText=prizes[Math.floor(Math.random()*prizes.length)];
    s2.innerText=prizes[Math.floor(Math.random()*prizes.length)];
    s3.innerText=prizes[Math.floor(Math.random()*prizes.length)];
    s1.style.bottom=Math.random()*100+"%";
    s2.style.bottom=Math.random()*100+"%";
    s3.style.bottom=Math.random()*100+"%";
    count++;
    if(count>25){
      clearInterval(interval);
      // ÙÙˆØ² Ù…Ø¶Ù…ÙˆÙ† Ø£ÙˆÙ„ ÙŠÙˆÙ…
      const firstTime=!localStorage.getItem("firstWin_"+id);
      if(firstTime){
        localStorage.setItem("firstWin_"+id,"yes");
        win();
      }else{
        // 90% ÙÙˆØ² Ø¨Ø¹Ø¯ Ø§Ù„Ø£ÙˆÙ„
        if(Math.random()<0.9){ win(); }
        else{ lose(); }
      }
    }
  },70);
}

function win(){
  const prize=prizes[Math.floor(Math.random()*prizes.length)];
  s1.innerText=prize;
  s2.innerText=prize;
  s3.innerText=prize;

  result.innerHTML=`ğŸ”¥ Ù…Ø¨Ø±ÙˆÙƒ! ÙØ²Øª Ø¨Ù€ ${prize} Ø´Ø¯Ù‘Ø©<br>
  <b>Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© Ø§Ø´ØªØ±Ùƒ ğŸ‘‡</b><br>
  <a href="https://t.me/Potr01" target="_blank">ğŸ“¢ ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a><br>
  <a href="https://chat.whatsapp.com/DUS3Tw1UKqhICikuwxKnvs" target="_blank">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>`;

  clapSound.play();
  laughSound.play();

  let winMsg=new SpeechSynthesisUtterance("Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ÙØ²Øª Ø¨Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ.");
  winMsg.lang="ar-EG";
  speechSynthesis.speak(winMsg);

  // Ù‡Ø¯Ø§ÙŠØ§ ØªÙ†Ø²Ù„ Ù…Ù† ÙÙˆÙ‚
  for(let i=0;i<40;i++){
    let c=document.createElement("div");
    c.className="confetti";
    c.innerText="ğŸ";
    c.style.left=Math.random()*100+"%";
    c.style.animationDuration=(Math.random()*3+2)+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),5000);
  }
}

function lose(){
  s1.innerText="âŒ";
  s2.innerText="âŒ";
  s3.innerText="âŒ";
  result.innerText="ğŸ˜” Ù„Ù… ÙŠØ­Ø§Ù„ÙÙƒ Ø§Ù„Ø­Ø¸ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø©! Ø¬Ø±Ø¨ Ø¨ÙƒØ±Ø©";
}
</script>

</body>
</html>
